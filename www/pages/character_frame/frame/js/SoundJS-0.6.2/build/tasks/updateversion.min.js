module.exports=function(e){function t(t,s){if(!e.file.exists(t))return void e.log.error(t+" not found.");var i=e.file.read(t);for(var n in s){var a=new RegExp("(/\\*="+n+'\\*/")(.*)(";)',"g"),r=a.test(i);r?i=i.replace(a,"$1"+s[n]+"$3"):e.log.error("Error -- Unable to resolve value:"+a)}e.file.write(t,i)}e.registerMultiTask("updateversion",function(){var e={date:(new Date).toUTCString(),version:this.data.version};t(this.data.file,e)}),e.registerMultiTask("clearversion",function(){var s=e.config("buildArgs");s&&"all"==s[0]||t(this.data.file,{date:"",version:""})})};