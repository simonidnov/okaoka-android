function Tween(e){!e.algorithm&&e.algo&&(e.algorithm=e.algo,delete e.algo),!e.properties&&e.props&&(e.properties=e.props,delete e.props);for(var t in e)this[t]=e[t];if(this.mode||(this.mode="EaseIn"),this.algorithm||(this.algorithm="Linear"),this.require("target","duration","properties"),"number"!=typeof this.duration)return alert("Tween: Duration is not a number");if("object"!=typeof this.properties)return alert("Tween: Properties is not an object");for(var t in this.properties){var s=this.properties[t];if("number"==typeof s&&(s=this.properties[t]={end:s}),"object"!=typeof s)return alert("Tween: Property "+t+" is not the correct format");if("undefined"==typeof s.start&&(s.start=this.target[t]),s.start.toString().match(/^([\d\.]+)([a-zA-Z]+)$/)&&!s.suffix&&(s.start=RegExp.$1,s.suffix=RegExp.$3,s.end=s.end.toString().replace(/[^\d\.]+$/,"")),"number"!=typeof s.start&&s.start.toString().match(/^\d+\.\d+$/)?s.start=parseFloat(s.start):"number"!=typeof s.start&&s.start.toString().match(/^\d+$/)&&(s.start=parseInt(s.start,10)),"number"!=typeof s.end&&s.end.toString().match(/^\d+\.\d+$/)?s.end=parseFloat(s.end):"number"!=typeof s.end&&s.end.toString().match(/^\d+$/)&&(s.end=parseInt(s.end,10)),"number"!=typeof s.start)return alert("Tween: Property "+t+": start is not a number");if("number"!=typeof s.end)return alert("Tween: Property "+t+": end is not a number");if(s.filter&&"function"!=typeof s.filter)return alert("Tween: Property "+t+": filter is not a function")}}function tweenFrame(e,t,s,i,n){return e+ease(s,i,n)*(t-e)}function ease(e,t,s){return EaseModes[t](e,s)}var TweenManager={_tweens:{},_nextId:1,add:function(e){var t=new Tween(e);return this._tweens[this._nextId]=t,t.id=this._nextId,this._nextId++,t},logic:function(e){for(var t in this._tweens){var s=this._tweens[t];s.logic(e),s.destroyed&&delete this._tweens[t]}},removeAll:function(){if(arguments.length){var e=arguments[0],t=0;for(var s in e)t++;for(var i in this._tweens){var n=this._tweens[i],a=0;for(var s in e)n[s]==e[s]&&a++;a==t&&(n.destroyed=1,delete this._tweens[i])}}else{for(var i in this._tweens){var n=this._tweens[i];n.destroyed=1}this._tweens={}}}};TweenManager.tween=TweenManager.add,Tween.prototype.destroyed=!1,Tween.prototype.delay=0,Tween.prototype.require=function(){for(var e=0,t=arguments.length;t>e;e++)if("undefined"==typeof this[arguments[e]])return alert("Tween: Missing required parameter: "+arguments[e]);return!0},Tween.prototype.logic=function(e){if(this.target.destroyed)return void(this.destroyed=!0);if(this.delay>0){if(this.delay--,!(this.delay<=0))return;this.start=e}this.start||(this.start=e),this.amount=(e-this.start)/this.duration,this.amount>=1&&(this.amount=1,this.destroyed=!0);for(var t in this.properties){var s=this.properties[t],i=s.start+ease(this.amount,this.mode,this.algorithm)*(s.end-s.start);s.filter&&(i=s.filter(i)),this.target[t]=s.suffix?""+i+s.suffix:i}this.onTweenUpdate&&this.onTweenUpdate(this),this.target.onTweenUpdate&&this.target.onTweenUpdate(this),this.destroyed&&(this.onTweenComplete&&this.onTweenComplete(this),this.target.onTweenComplete&&this.target.onTweenComplete(this))};var EaseAlgos={Linear:function(e){return e},Quadratic:function(e){return Math.pow(e,2)},Cubic:function(e){return Math.pow(e,3)},Quartetic:function(e){return Math.pow(e,4)},Quintic:function(e){return Math.pow(e,5)},Sine:function(e){return 1-Math.sin((1-e)*Math.PI/2)},Circular:function(e){return 1-Math.sin(Math.acos(e))}},EaseModes={EaseIn:function(e,t){return EaseAlgos[t](e)},EaseOut:function(e,t){return 1-EaseAlgos[t](1-e)},EaseInOut:function(e,t){return.5>=e?EaseAlgos[t](2*e)/2:(2-EaseAlgos[t](2*(1-e)))/2}};