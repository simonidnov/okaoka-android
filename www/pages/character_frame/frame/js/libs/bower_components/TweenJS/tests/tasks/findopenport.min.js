module.exports=function(e){function r(){return i.length?void o(i.shift(),function(t,s){if(t){var i=Array.isArray(n.configName)?n.configName:[n.configName];i.forEach(function(t){e.config.set(t,s)}),a()}else r()}):(e.option(_portName,-1),void a())}function o(e,s){var i=t.createServer();i.on("error",function(t){s(!1,e)}),i.listen(e,function(){s(!0,e),i.close()})}var i,n,a,t=require("net");e.registerMultiTask("findopenport","Prints a list of active ips.",function(){n=this.options(),a=this.async(),i=n.ports||[80,8888,9e3,9999,9001],r()})};