define(["core/utils","core/defaultOptions","core/existingImages","core/existingVideo","core/existingWebcam"],function(e,t,s,i,n){return function(a,r){if(r=e.isFunction(a)?a:r,a=e.isObject(a)?a:{},e.isFunction(r)){var o=e.mergeOptions(t,a)||{},h=a.cameraStream,A=o.images,g=A?A.length:0,l=o.video,c=o.webcamVideoElement;o=e.mergeOptions(o,{gifWidth:Math.floor(o.gifWidth),gifHeight:Math.floor(o.gifHeight)}),g?s({images:A,imagesLength:g,callback:r,options:o}):l?i({existingVideo:l,callback:r,options:o}):n({lastCameraStream:h,callback:r,webcamVideoElement:c,options:o})}}});