var chai=require("chai"),expect=chai.expect,gifshot=require("./gifshot.test"),gifshotUtils=gifshot.utils;describe("gifshot",function(){describe("#utils",function(){it("should check gifshotUtils is an object",function(){expect(gifshotUtils).not.to.equal(void 0)}),it("should check URL is undefined",function(){expect(gifshotUtils.URL).to.equal(void 0)}),it("should check getUserMedia is undefined",function(){expect(gifshotUtils.getUserMedia).to.equal(void 0)}),it("should check Blob is undefined",function(){expect(gifshotUtils.Blob).to.equal(void 0)}),it("should check btoa is a function",function(){expect(gifshotUtils.isFunction(gifshotUtils.btoa)).to.equal(!0)}),it("should correctly detect objects",function(){var e={test:!0},t=function(){},s=[],i=new String("test"),n="test",a=new Number(1),r=1;expect(gifshotUtils.isObject(e)).to.equal(!0),expect(gifshotUtils.isObject(t)).to.equal(!1),expect(gifshotUtils.isObject(s)).to.equal(!1),expect(gifshotUtils.isObject(i)).to.equal(!1),expect(gifshotUtils.isObject(n)).to.equal(!1),expect(gifshotUtils.isObject(a)).to.equal(!1),expect(gifshotUtils.isObject(r)).to.equal(!1)}),it("should correctly detect empty objects",function(){var e={test:!0},t={},s=function(){},i=[],n=new String("test"),a="test",r=new Number(1),o=1;expect(gifshotUtils.isEmptyObject(t)).to.equal(!0),expect(gifshotUtils.isEmptyObject(e)).to.equal(!1),expect(gifshotUtils.isEmptyObject(s)).to.equal(!1),expect(gifshotUtils.isEmptyObject(i)).to.equal(!1),expect(gifshotUtils.isEmptyObject(n)).to.equal(!1),expect(gifshotUtils.isEmptyObject(a)).to.equal(!1),expect(gifshotUtils.isEmptyObject(r)).to.equal(!1),expect(gifshotUtils.isEmptyObject(o)).to.equal(!1)}),it("should correctly detect arrays",function(){var e={test:!0},t=function(){},s=[],i=new String("test"),n="test",a=new Number(1),r=1;expect(gifshotUtils.isArray(s)).to.equal(!0),expect(gifshotUtils.isArray(e)).to.equal(!1),expect(gifshotUtils.isArray(t)).to.equal(!1),expect(gifshotUtils.isArray(i)).to.equal(!1),expect(gifshotUtils.isArray(n)).to.equal(!1),expect(gifshotUtils.isArray(a)).to.equal(!1),expect(gifshotUtils.isArray(r)).to.equal(!1)}),it("should correctly detect functions",function(){var e={test:!0},t=function(){},s=[],i=new String("test"),n="test",a=new Number(1),r=1;expect(gifshotUtils.isFunction(t)).to.equal(!0),expect(gifshotUtils.isFunction(s)).to.equal(!1),expect(gifshotUtils.isFunction(e)).to.equal(!1),expect(gifshotUtils.isFunction(i)).to.equal(!1),expect(gifshotUtils.isFunction(n)).to.equal(!1),expect(gifshotUtils.isFunction(a)).to.equal(!1),expect(gifshotUtils.isFunction(r)).to.equal(!1)}),it("should correctly detect strings",function(){expect(gifshotUtils.isElement({})).to.equal(!1)}),it("should correctly detect strings",function(){var e={test:!0},t=function(){},s=[],i=new String("test"),n="test",a=new Number(1),r=1;expect(gifshotUtils.isString(i)).to.equal(!0),expect(gifshotUtils.isString(n)).to.equal(!0),expect(gifshotUtils.isString(t)).to.equal(!1),expect(gifshotUtils.isString(s)).to.equal(!1),expect(gifshotUtils.isString(e)).to.equal(!1),expect(gifshotUtils.isString(a)).to.equal(!1),expect(gifshotUtils.isString(r)).to.equal(!1)}),it("should have a check for canvas support",function(){expect(gifshotUtils.isSupported.canvas).not.to.equal(void 0)}),it("should have a check for web workers support",function(){expect(gifshotUtils.isSupported.webworkers).not.to.equal(void 0)}),it("should have a check for Blob support",function(){expect(gifshotUtils.isSupported.blob).not.to.equal(void 0)}),it("should have a check for 8-int Typed Arrays support",function(){expect(gifshotUtils.isSupported.Uint8Array).not.to.equal(void 0),expect(gifshotUtils.isSupported.Uint8Array()).to.equal(void 0)}),it("should have a check for 32-int Typed Arrays support",function(){expect(gifshotUtils.isSupported.Uint32Array).not.to.equal(void 0),expect(gifshotUtils.isSupported.Uint32Array()).to.equal(void 0)}),it("should have a check for videoCodecs support",function(){expect(gifshotUtils.isSupported.videoCodecs).not.to.equal(void 0)}),it("should return an empty function for noop",function(){expect(gifshotUtils.isFunction(gifshotUtils.noop)).to.equal(!0)}),it("should correctly iterate arrays and objects with the each method",function(){var e=["test","testing"],t=0,s={test:"hmm",testing:"check"},i=0;gifshotUtils.each(e,function(){t+=1}),gifshotUtils.each(s,function(){i+=1}),expect(t).to.equal(2),expect(i).to.equal(2)}),it("should correctly merge objects together",function(){var e={test:"testing",nestedTest:{test:"blah"}},t={nestedTest:{test:"this is a test"}},s=gifshotUtils.mergeOptions(e,t);expect(s.test).to.equal("testing"),expect(s.nestedTest.test).to.equal("this is a test")}),it("should test the progress callback",function(){expect(gifshot.defaultOptions.progressCallback()).to.equal(void 0),expect(gifshot.defaultOptions.completeCallback()).to.equal(void 0)}),it("should set css attributes",function(){expect(gifshotUtils.setCSSAttr()).to.equal(void 0)}),it("should remove an element",function(){expect(gifshotUtils.removeElement()).to.equal(void 0)}),it("should create a web worker",function(){expect(gifshotUtils.isEmptyObject(gifshotUtils.createWebWorker())).to.equal(!0)}),it("should get file extension",function(){expect(gifshotUtils.getExtension("test.gif")).to.equal("gif")}),it("should resize text",function(){expect(gifshotUtils.getFontSize("test",200,18,20)).to.equal(void 0)})}),describe("#apiMethods",function(){describe("#createGIF",function(){it("should have a createGIF method",function(){expect(gifshot.createGIF).not.to.equal(void 0)}),it("should correctly return the provided callback function",function(){gifshot.createGIF({},function(e){expect(gifshotUtils.isObject(e)).to.equal(!0),expect(e.error).to.equal(!0)})})}),describe("#takeSnapShot",function(){it("should have a takeSnapShot method",function(){expect(gifshot.takeSnapShot).not.to.equal(void 0)}),it("should correctly return the provided callback function",function(){gifshot.takeSnapShot({},function(e){expect(gifshotUtils.isObject(e)).to.equal(!0),expect(e.error).to.equal(!0)})})}),describe("#stopVideoStreaming",function(){it("should have a stopVideoStreaming method",function(){expect(gifshot.stopVideoStreaming).not.to.equal(void 0)})}),describe("#isSupported",function(){it("should have an isSupported method",function(){expect(gifshot.isSupported).not.to.equal(void 0)}),it("should call isSupported",function(){expect(gifshot.isSupported()).not.to.equal(void 0)})}),describe("#isWebCamGIFSupported",function(){it("should have an isWebCamGIFSupported method",function(){expect(gifshot.isWebCamGIFSupported).not.to.equal(void 0)}),it("should call isWebCamGIFSupported",function(){expect(gifshot.isWebCamGIFSupported()).not.to.equal(void 0)})}),describe("#isExistingVideoGIFSupported",function(){it("should have an isExistingVideoGIFSupported method",function(){expect(gifshot.isExistingVideoGIFSupported).not.to.equal(void 0)}),it("should call isExistingVideoGIFSupported",function(){expect(gifshot.isExistingVideoGIFSupported()).not.to.equal(void 0)})}),describe("#isExistingImagesGIFSupported",function(){it("should have an isExistingImagesGIFSupported method",function(){expect(gifshot.isExistingImagesGIFSupported).not.to.equal(void 0)}),it("should call isExistingImagesGIFSupported",function(){expect(gifshot.isExistingImagesGIFSupported()).not.to.equal(void 0)})})}),describe("#error",function(){var e=gifshot.error;it("should check the error object",function(){expect(gifshotUtils.isObject(e.validate())).to.equal(!0)}),it("should check is valid",function(){expect(e.isValid()).to.equal(!1)}),it("should check is valid",function(){expect(e.isValid({getUserMedia:!0,canvas:!0})).to.equal(!1)})})});