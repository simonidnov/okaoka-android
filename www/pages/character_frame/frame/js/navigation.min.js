var app={_app_infos:null,_router:null,_page_request:null,page_properties:null,transition:"",_sounds:null,transition_time:.6,transition_delay:.4,transition_ease:"Out",page_loaded:!1,page_created:!1,nav_opened:!1,locale:"fr-FR",language:"fr",volume:.5,can_speech:!0,app_name:"Simply Human",settings:{sound:!0,music:!0,voice:!0},to_seek:0,initialize:function(){this.bindEvents()},bindEvents:function(){"undefined"!=typeof cordova?document.addEventListener("deviceready",this.onDeviceReady,!1):$(document).ready(function(){app.onDeviceReady()})},onDeviceReady:function(){app.receivedEvent("deviceready"),app.init(),"undefined"!=typeof StatusBar&&StatusBar.hide(),createjs.MotionGuidePlugin.install(),"undefined"==typeof cordova?(window.localStorage.setItem("user",JSON.stringify({id:"1",pseudo:"jeanguymze",gamecenter:"G:1067743784"})),auth_helper.set_user()):setTimeout(function(){navigator.splashscreen.hide(),auth_helper.gamecenter()},2500)},receivedEvent:function(e){},set_nav_button:function(){return $("#default_nav_button").css("display","none"),!1},init:function(){if(jQuery){this.setup(),this.set_sounds();this.set_nav_button()}else alert("dom not loaded"),$(function(){jQuery(document).ready(function(){app.setup()})});app.set_locale()},open_settings:function(){$("#setting_sound, #setting_music, #setting_voice").off("click").on("click",function(e){if(_UI.displayTouch($(this)),"true"===$(this).attr("data-active"))switch($(this).attr("data-active","false"),$(this).find(".icon img").attr("src",$(this).attr("data-off")),$(this).attr("id")){case"setting_sound":app.settings.sound=!1;break;case"setting_music":app.stop_audio(),app.settings.music=!1;break;case"setting_voice":app.settings.voice=!1}else switch($(this).attr("data-active","true"),$(this).find(".icon img").attr("src",$(this).attr("data-on")),$(this).attr("id")){case"setting_sound":app.settings.sound=!0;break;case"setting_music":app.settings.music=!0;break;case"setting_voice":app.settings.voice=!0}}),TweenLite.to($("#nav_button_1"),.5,{x:2*-window.innerWidth,rotation:-30,ease:Power4.easeIn}),TweenLite.to($("#nav_button_2"),.5,{x:-window.innerWidth,rotation:-50,ease:Power4.easeIn}),TweenLite.to($("#nav_button_3"),.5,{x:-window.innerWidth,rotation:30,ease:Power4.easeIn}),TweenLite.to($("#nav_button_4"),.5,{x:-window.innerWidth,rotation:40,ease:Power4.easeIn}),TweenLite.to($("#nav_button_5"),.5,{x:-window.innerWidth,rotation:50,ease:Power4.easeIn}),TweenLite.set($("#setting_sound"),{left:"150%",y:-50,rotation:30}),TweenLite.set($("#setting_music"),{left:"150%",y:-100,rotation:50}),TweenLite.set($("#setting_voice"),{left:"150%",y:50,rotation:-30}),TweenLite.set($("#setting_lang"),{left:"150%",y:100,rotation:-50}),TweenLite.to($("#setting_sound"),.8,{left:"0%",y:0,rotation:0,delay:.3,ease:Power4.easeOut}),TweenLite.to($("#setting_music"),.8,{left:"50%",y:0,rotation:0,delay:.4,ease:Power4.easeOut}),TweenLite.to($("#setting_voice"),.8,{left:"0%",y:0,rotation:0,delay:.5,ease:Power4.easeOut}),TweenLite.to($("#setting_lang"),.8,{left:"50%",y:0,rotation:0,delay:.6,ease:Power4.easeOut}),app.nav_button_root.gotoAndPlay("cross_to_back"),$("#default_nav_button").off("click").on("click",function(){app.play_sound("open_nav"),TweenLite.to($("#setting_sound"),.5,{left:"150%",y:-100,rotation:-30,ease:Power4.easeIn}),TweenLite.to($("#setting_music"),.5,{left:"200%",y:-200,rotation:-40,delay:.1,ease:Power4.easeIn}),TweenLite.to($("#setting_voice"),.5,{left:"150%",y:100,rotation:30,delay:.2,ease:Power4.easeIn}),TweenLite.to($("#setting_lang"),.5,{left:"200%",y:200,rotation:40,delay:.3,ease:Power4.easeIn}),app.nav_button_root.gotoAndPlay("back_to_cross"),TweenLite.to($("#nav_button_1"),.5,{x:0,rotation:0,delay:.4,ease:Power4.easeOut}),TweenLite.to($("#nav_button_2"),.5,{x:window.innerWidth/2,rotation:0,delay:.5,ease:Power4.easeOut}),TweenLite.to($("#nav_button_3"),.5,{x:0,rotation:0,delay:.6,ease:Power4.easeOut}),TweenLite.to($("#nav_button_4"),.5,{x:0,rotation:0,delay:.7,ease:Power4.easeOut}),TweenLite.to($("#nav_button_5"),.5,{x:0,rotation:0,delay:.8,ease:Power4.easeOut}),$("#default_nav_button").off("click").on("click",function(){app.play_sound("hit"),app.open_close_nav()})})},open_close_nav:function(){var e=this;$(".navigation_blocks .block").addClass("inline"),$("#nav_button_4").off("click").on("click",function(){app.play_sound("hit"),e.open_settings()}),e.nav_opened?(app.play_sound("close_nav"),e.nav_button_root.gotoAndPlay("cross_to_ham"),TweenLite.to($(".screen"),.8,{y:0,delay:1,ease:Power4.easeOut}),TweenLite.to($("#nav_button_5"),.5,{top:"150%",rotation:0,delay:.1,ease:Power4.easeIn}),TweenLite.to($("#nav_button_4"),.5,{top:"150%",rotation:0,delay:.2,ease:Power4.easeIn}),TweenLite.to($("#nav_button_3"),.5,{top:"150%",rotation:0,delay:.3,ease:Power4.easeIn}),TweenLite.to($("#nav_button_2"),.5,{top:"-150%",rotation:0,delay:.4,ease:Power4.easeIn}),TweenLite.to($("#nav_button_1"),.5,{top:"-150%",rotation:0,delay:.5,ease:Power4.easeIn,onComplete:function(){$(".navigation_blocks").css("display","none")}}),"block"===$(".navigation_types").css("display")&&(TweenLite.to($("#type_block_1"),.5,{x:window.innerWidth+50,rotation:-20,top:"0px",ease:Power4.easeIn}),TweenLite.to($("#type_block_2"),.5,{x:-(window.innerWidth+50),rotation:20,top:"50%",delay:.2,ease:Power4.easeIn,onComplete:function(){$(".navigation_types").css("display","none")}})),e.nav_opened=!1):(app.play_sound("open_nav"),e.nav_button_root.gotoAndPlay("ham_to_cross"),$(".navigation_blocks").css("display","block"),TweenLite.to($(".screen"),.5,{y:window.innerHeight,ease:Power4.easeIn}),$("#nav_button_3 span").css({height:$("#nav_button_5").height()+"px","line-height":$("#nav_button_5").height()+"px"}),$("#nav_button_4 span").css({height:$("#nav_button_5").height()+"px","line-height":$("#nav_button_5").height()+"px"}),$("#nav_button_5 span").css({height:$("#nav_button_5").height()+"px","line-height":$("#nav_button_5").height()+"px"}),$("#nav_button_6 span").css({height:$("#nav_button_5").height()+"px","line-height":$("#nav_button_5").height()+"px"}),$("#nav_button_1").width()<$("#nav_button_1").height()&&(console.log("resize block icon"),$(".block .icon img").css({width:"100%"})),TweenLite.set($("#nav_button_1"),{x:-window.innerWidth-20,rotation:30,top:"0%"}),TweenLite.to($("#nav_button_1"),.5,{x:0,rotation:0,delay:.3,ease:Power4.easeOut}),TweenLite.set($("#nav_button_2"),{x:window.innerWidth+150,rotation:-30,top:"0%"}),TweenLite.to($("#nav_button_2"),.5,{x:window.innerWidth/2,rotation:0,delay:.4,ease:Power4.easeOut}),TweenLite.set($("#nav_button_3"),{x:-window.innerWidth-20,rotation:30,top:"55%"}),TweenLite.to($("#nav_button_3"),.5,{x:0,rotation:0,delay:.5,ease:Power4.easeOut}),TweenLite.set($("#nav_button_4"),{x:-window.innerWidth-20,rotation:30,top:"70%"}),TweenLite.to($("#nav_button_4"),.5,{x:0,rotation:0,delay:.6,ease:Power4.easeOut}),TweenLite.set($("#nav_button_5"),{x:-window.innerWidth-20,rotation:30,top:"85%"}),TweenLite.to($("#nav_button_5"),.5,{x:0,rotation:0,delay:.7,ease:Power4.easeOut}),e.nav_opened=!0)},setup:function(){var e=Backbone.Router.extend({routes:{about:"load","*notFound":"controller"},load:function(e,t,a){app.setup_page(e)},controller:function(e){app.setup_page(e)}});Backbone.emulateHTTP=!0,Backbone.history.start({pushState:!1}),this._router=new e,$.getJSON("descriptor.json",function(e){app._app_infos=e,""!==window.location.hash?(app._router.navigate(window.location.hash.replace("#",""),{trigger:!0,replace:!0}),app.setup_page(window.location.hash.replace("#",""))):app._router.navigate("page/"+app._app_infos.app_default_controller,{trigger:!0,replace:!1})}),$(document).on("resize",app.resize),ajax_request.init(),this.settings_lang_picker=Draggable.create("#setting_lang_scroller",{type:"x",edgeResistance:2,bounds:"#setting_lang_wrapper",throwProps:!0,snap:{x:function(e){var t=Math.round(e/$("#setting_lang_wrapper").width())*$("#setting_lang_wrapper").width(),a=Math.abs(t)/$("#setting_lang_wrapper").width();return console.log("num ======= ",a),app.locale=$("#setting_lang_wrapper ul li").eq(a).attr("data-locale"),console.log(app.locale),$(".setting_lang_dots .dot").removeClass("selected"),$(".setting_lang_dots .dot").eq(a).addClass("selected"),app.trad(),t}},onDragEnd:function(){}})},resize:function(){$(".app .screen").css({width:window.innerWidth+"px",height:window.innerHeight+"px"})},setup_page:function(e){return console.log("setup_page"),app.page_loaded=!1,app.page_created=!1,app._page_request=this.uri_to_params(e),"undefined"==typeof app._page_request.page?(console.log("app._page_request.page undefined "),!1):(null!==app.page_properties&&"object"==typeof app.page_properties._page_script&&app.page_properties._page_script.destroy(function(){app.page_properties._page_script=null}),ajax_request._loader.show(),void $.getJSON("pages/"+app._page_request.page+"/descriptor.json",function(e){}).done(function(e){console.log("descriptor done ",e),app.page_properties=e,app.load_styles(function(){console.log("styles+loaded"),app.load_dependencies(function(){console.log("load_dependencies OK"),app.load_content(function(){console.log("load_content OK"),app.page_loaded=!0,app.display_content()})})})}).fail(function(e){}).always(function(e){}))},stage_inited:function(){},load_styles:function(e){var t=this;$.each(t.page_properties.styles,function(e,a){-1===a.indexOf("./")&&(t.page_properties.styles[e]="pages/"+app.page_properties.name+"/"+a),0===$('link[href="'+t.page_properties.styles[e]+'"]').length&&$("head").append('<link rel="stylesheet" type="text/css" href="'+t.page_properties.styles[e]+'">')}),e()},load_dependencies:function(e){var t=this;$.each(t.page_properties.dependencies,function(e,a){-1===a.indexOf("http")&&(-1===a.indexOf("./")?t.page_properties.dependencies[e]="pages/"+app.page_properties.name+"/"+a:t.page_properties.dependencies[e]=t.page_properties.dependencies[e].replace("./","")),-1!==t.page_properties.dependencies[e].indexOf("maps.googleapis")&&"undefined"!=typeof google||0===$('script[src="'+t.page_properties.dependencies[e]+'"]').length&&$("footer").append('<script type="text/javascript" src="'+t.page_properties.dependencies[e]+'"></script>')}),e()},load_content:function(e){var t=this;$(".app").append('<div class="screen" style="display:none;"></div>'),$(".app .screen:last-child").load("pages/"+app.page_properties.name+"/"+app.page_properties.content,function(){e()}),"undefined"!=typeof t.page_properties.templates&&($("#content_templates").html(""),$.each(t.page_properties.templates,function(e,t){$.ajax({type:"GET",url:t.replace("./",""),success:function(e){$("#content_templates").append(e)},async:!1})}))},display_content:function(){var e;parental_control.destroy(),"undefined"!=typeof app.page_properties.script&&(app.page_properties._page_script=new window[app.page_properties.script](app.page_properties.params),"undefined"==typeof app.page_properties.delayed&&(app.page_properties.delayed=0),setTimeout(function(){app.page_properties._page_script.init()},parseInt(app.page_properties.delayed))),"undefined"!=typeof app.transition&&""!==app.transition?e=app.transition:"undefined"==typeof app.page_properties.transition?(app.page_properties.transition="left",e="left"):e=app.page_properties.transition;var t=app.transition_delay;switch("undefined"!=typeof app.page_properties.delay?(t+=parseInt(app.page_properties.delay)/1e3,ajax_request._loader.show(),setTimeout(function(){ajax_request._loader.hide(),app.nav_opened&&app.open_close_nav()},parseInt(app.page_properties.delay))):setTimeout(function(){ajax_request._loader.hide(),app.nav_opened&&app.open_close_nav()},1e3*t),$(".app .screen").css({width:window.innerWidth+"px",height:window.innerHeight+"px"}),app.trad(),e){case"left":TweenLite.to($(".app .screen").first(),app.transition_time,{x:-window.innerWidth,ease:Power4.easeOut,delay:t}),$(".app .screen").last().css({display:"block"}),TweenLite.set($(".app .screen").last(),{x:window.innerWidth}),TweenLite.to($(".app .screen").last(),app.transition_time,{x:0,ease:Power4.easeOut,onComplete:function(){$(".app .screen").first().remove()},delay:t});break;case"right":TweenLite.to($(".app .screen").first(),app.transition_time,{x:window.innerWidth,ease:Power4.easeOut,delay:t}),$(".app .screen").last().css({display:"block"}),TweenLite.set($(".app .screen").last(),{x:-window.innerWidth}),TweenLite.to($(".app .screen").last(),app.transition_time,{x:0,ease:Power4.easeOut,onComplete:function(){$(".app .screen").first().remove()},delay:t});break;case"top":TweenLite.to($(".app .screen").first(),app.transition_time,{opacity:.5,scaleX:.8,scaleY:.8}),$(".app .screen").last().css({display:"block"}),TweenLite.set($(".app .screen").last(),{y:window.innerHeight}),TweenLite.to($(".app .screen").last(),.5,{y:0,ease:Power4.easeOut,onComplete:function(){$(".app .screen").first().remove()},delay:t});break;case"bottom":TweenLite.to($(".app .screen").first(),app.transition_time,{opacity:.5,scaleX:.8,scaleY:.8}),$(".app .screen").last().css({display:"block"}),TweenLite.set($(".app .screen").last(),{y:-window.innerHeight}),TweenLite.to($(".app .screen").last(),.5,{y:0,ease:Power4.easeOut,delay:t,onComplete:function(){$(".app .screen").first().remove()}});break;case"flip":$(".app .screen").last().css({background:"#FFF","backface-visibility":"hidden",transform:"rotateY(180deg) perspective( 5000px )",display:"block"}),$(".app .screen").first().css({background:"#FFF","backface-visibility":"hidden",transform:"rotateY(0deg) perspective( 5000px )",display:"block"}),TweenLite.to($(".app .screen").first(),.8,{scaleX:.7,scaleY:.7,ease:Power4.easeOut}),TweenLite.to($(".app .screen").last(),.8,{scaleX:.7,scaleY:.7,ease:Power4.easeOut}),TweenLite.to($(".app .screen").first(),2,{rotationY:-180,ease:Power4.easeInOut,delay:.8}),TweenLite.to($(".app .screen").last(),2,{transform:"rotationY(0deg), perspective( 5000px )",ease:Power4.easeInOut,delay:.8,onComplete:function(){$(".app .screen").first().remove(),TweenMax.to($(".app .screen").first(),.5,{scaleX:1,scaleY:1,onComplete:function(){"undefined"!=typeof app.page_properties._page_script.transition_end&&app.page_properties._page_script.transition_end()}})}});break;case"fade":$(".app .screen").last().css({opacity:0,display:"block"}),TweenLite.to($(".app .screen").last(),.5,{opacity:"1",onComplete:function(){$(".app .screen").first().remove()}});break;default:$(".app .screen").last().css({opacity:0,display:"block"}),TweenLite.to($(".app .screen").last(),.5,{opacity:"1",onComplete:function(){$(".app .screen").first().remove()}})}app.page_properties.transition=null,delete app.page_properties.transition,setTimeout($.proxy(function(){this.reset_listeners(),"undefined"!=typeof app.page_properties.ambiant&&app.play_audio(app.page_properties.ambiant)},this),1500)},reset_listeners:function(){var e=this;$("[data-navigate]").off("click").on("click",function(){window.location.hash==="#page/"+$(this).attr("data-navigate")&&e.open_close_nav(),"undefined"!=typeof $(this).attr("data-transition")?app.transition=$(this).attr("data-transition"):app.transition="",app._router.navigate("page/"+$(this).attr("data-navigate"),{trigger:!0,replace:!1}),_UI.displayTouch($(this))})},uri_to_params:function(e){var t,a=e.split("/");t={};for(var s=0;s<a.length;s+=2)"undefined"!=typeof a[s+1]&&(t[a[s]]=a[s+1]);return t},encode_uri_to_barcode:function(e,t){t({uri:encodeURI("https://chart.googleapis.com/chart?chs=300x300&cht=qr&chl="+e+"&choe=UTF-8")})},pix_to_uri:function(e,t){var a=e.split(""),s="http://www.landscape-viewer.com/uploads/"+a[0]+"/"+a[1]+"/"+a[2]+"/"+a[3]+"/"+e+"_thumb.png";switch(t){case"large":var s="http://www.landscape-viewer.com/uploads/"+a[0]+"/"+a[1]+"/"+a[2]+"/"+a[3]+"/"+e+".png";break;case"thumb":var s="http://www.landscape-viewer.com/uploads/"+a[0]+"/"+a[1]+"/"+a[2]+"/"+a[3]+"/"+e+"_thumb.png";break;case"svg":var s="http://www.landscape-viewer.com/uploads/"+a[0]+"/"+a[1]+"/"+a[2]+"/"+a[3]+"/"+e+".svg";break;default:var s="http://www.landscape-viewer.com/uploads/"+a[0]+"/"+a[1]+"/"+a[2]+"/"+a[3]+"/"+e+"_thumb.png"}return s},set_sounds:function(){app._sounds=[],app._audios=[],"undefined"!=typeof cordova?(window.plugins.NativeAudio.preloadComplex("hit","sounds/hit.mp3",1,1,0,function(e){console.log("sound loaded successful ",e)},function(e){console.log("error: "+e)}),window.plugins.NativeAudio.preloadComplex("small_hit","sounds/small_hit.mp3",1,1,0,function(e){console.log("sound loaded successful ",e)},function(e){console.log("error: "+e)}),window.plugins.NativeAudio.preloadComplex("card","sounds/small_hit.mp3",1,1,0,function(e){console.log("sound loaded successful ",e)},function(e){console.log("error: "+e)}),window.plugins.NativeAudio.preloadComplex("slide","sounds/slide.mp3",1,1,0,function(e){console.log("sound loaded successful ",e)},function(e){console.log("error: "+e)}),window.plugins.NativeAudio.preloadComplex("open_nav","sounds/open_nav.mp3",1,1,0,function(e){console.log("sound loaded successful ",e)},function(e){console.log("error: "+e)}),window.plugins.NativeAudio.preloadComplex("close_nav","sounds/close_nav.mp3",1,1,0,function(e){console.log("sound loaded successful ",e)},function(e){console.log("error: "+e)}),window.plugins.NativeAudio.preloadComplex("do","sounds/do.mp3",1,1,0,function(e){console.log("sound loaded successful ",e)},function(e){console.log("error: "+e)}),window.plugins.NativeAudio.preloadComplex("re","sounds/re.mp3",1,1,0,function(e){console.log("sound loaded successful ",e)},function(e){console.log("error: "+e)}),window.plugins.NativeAudio.preloadComplex("mi","sounds/mi.mp3",1,1,0,function(e){console.log("sound loaded successful ",e)},function(e){console.log("error: "+e)}),window.plugins.NativeAudio.preloadComplex("fa","sounds/fa.mp3",1,1,0,function(e){console.log("sound loaded successful ",e)},function(e){console.log("error: "+e)}),window.plugins.NativeAudio.preloadComplex("sol","sounds/sol.mp3",1,1,0,function(e){console.log("sound loaded successful ",e)},function(e){console.log("error: "+e)}),window.plugins.NativeAudio.preloadComplex("la","sounds/la.mp3",1,1,0,function(e){console.log("sound loaded successful ",e)},function(e){console.log("error: "+e)}),window.plugins.NativeAudio.preloadComplex("si","sounds/si.mp3",1,1,0,function(e){console.log("sound loaded successful ",e)},function(e){console.log("error: "+e)}),window.plugins.NativeAudio.preloadComplex("great","sounds/win.mp3",1,1,0,function(e){console.log("sound loaded successful ",e)},function(e){console.log("error: "+e)}),window.plugins.NativeAudio.preloadComplex("fail","sounds/fail.mp3",1,1,0,function(e){console.log("sound loaded successful ",e)},function(e){console.log("error: "+e)}),window.plugins.NativeAudio.preloadComplex("switch_player","sounds/switch_player.mp3",1,1,0,function(e){console.log("sound loaded successful ",e)},function(e){console.log("error: "+e)}),window.plugins.NativeAudio.preloadComplex("switch_player_end","sounds/switch_player_end.mp3",1,1,0,function(e){console.log("sound loaded successful ",e)},function(e){console.log("error: "+e)}),window.plugins.NativeAudio.preloadComplex("display_card","sounds/display_card.mp3",1,1,0,function(e){console.log("sound loaded successful ",e)},function(e){console.log("error: "+e)}),window.plugins.NativeAudio.preloadComplex("card_win","sounds/card_win.mp3",1,1,0,function(e){console.log("sound loaded successful ",e)},function(e){console.log("error: "+e)}),window.plugins.NativeAudio.preloadComplex("smile","sounds/smile.mp3",1,1,0,function(e){console.log("sound loaded successful ",e)},function(e){console.log("error: "+e)}),window.plugins.NativeAudio.preloadComplex("sleep","sounds/sleep.mp3",1,1,0,function(e){console.log("sound loaded successful ",e)},function(e){console.log("error: "+e)}),window.plugins.NativeAudio.preloadComplex("robot","sounds/robot.mp3",1,1,0,function(e){console.log("sound loaded successful ",e)},function(e){console.log("error: "+e)}),window.plugins.NativeAudio.preloadComplex("hi","sounds/hi.mp3",1,1,0,function(e){console.log("sound loaded successful ",e)},function(e){console.log("error: "+e)}),window.plugins.NativeAudio.preloadComplex("motion_win","sounds/motion_win.mp3",1,1,0,function(e){console.log("sound loaded successful ",e)},function(e){console.log("error: "+e)}),window.plugins.NativeAudio.preloadComplex("kiss","sounds/kiss.mp3",1,1,0,function(e){console.log("sound loaded successful ",e)},function(e){console.log("error: "+e)}),window.plugins.NativeAudio.preloadComplex("card_fail","sounds/card_fail.mp3",1,1,0,function(e){console.log("sound loaded successful ",e)},function(e){console.log("error: "+e)}),window.plugins.NativeAudio.preloadComplex("close_card","sounds/close_card.mp3",1,1,0,function(e){console.log("sound loaded successful ",e)},function(e){console.log("error: "+e)}),window.plugins.NativeAudio.preloadComplex("return_card","sounds/return_card.mp3",1,1,0,function(e){console.log("sound loaded successful ",e)},function(e){console.log("error: "+e)}),window.plugins.NativeAudio.preloadComplex("win","sounds/win.mp3",1,1,0,function(e){console.log("sound loaded successful ",e)},function(e){console.log("error: "+e)}),window.plugins.NativeAudio.preloadComplex("fail","sounds/fail.mp3",1,1,0,function(e){console.log("sound loaded successful ",e)},function(e){console.log("error: "+e)}),window.plugins.NativeAudio.preloadComplex("ambiant_home","sounds/ambiant_home.mp3",.4,2,1,function(e){console.log("sound loaded successful ",e)},function(e){console.log("error: "+e)}),window.plugins.NativeAudio.preloadComplex("ambiant_game","sounds/ambiant_game.mp3",.4,2,1,function(e){console.log("sound loaded successful ",e)},function(e){console.log("error: "+e)}),window.plugins.NativeAudio.preloadComplex("ambiant_fab","sounds/ambiant_fab.mp3",.4,2,1,function(e){console.log("sound loaded successful ",e)},function(e){console.log("error: "+e)}),window.plugins.NativeAudio.preloadComplex("ambiant_gallery","sounds/ambiant_gallery.mp3",.4,2,1,function(e){console.log("sound loaded successful ",e)},function(e){console.log("error: "+e)})):app._sounds.hit=new Audio("/sounds/hit.ogg")},play_audio:function(){return!1},stop_audio:function(){return!1},resume_audio:function(){return!1},pause_audio:function(){return!1},play_sound:function(e){return!1},stop_sound:function(e){window.plugins.NativeAudio.stop(e)},say:function(e,t,a,s){if("undefined"==typeof TTS)return"undefined"!=typeof s&&setTimeout(function(){s(!1)},2500),!1;if(app.settings.voice===!1)return"undefined"!=typeof s&&setTimeout(function(){s(!1)},2e3),!1;var i=this;"undefined"==typeof e&&(e="rien à dire ?"),("undefined"==typeof t||null===t)&&(null===app.locale?(app.set_locale(),t="fr_FR"):t=app.locale),this.can_speech=!1,TTS.speak({text:e,locale:t,rate:a},function(){console.log("success"),i.can_speech=!0,"undefined"!=typeof s&&s(!0)},function(e){console.log("text to speech error : ",e),i.can_speech=!0,"undefined"!=typeof s&&setTimeout(function(){s(!1)},2e3)})},set_locale:function(){"undefined"!=typeof navigator.globalization&&navigator.globalization.getLocaleName(function(e){app.locale=e.value},function(e){app.locale="fr-FR"}),"fr-FR"===app.locale?app.language="fr":app.language="en"},trad:function(){switch(app.locale){case"en-US":app.language="en";break;case"fr-FR":app.language="fr";break;case"es-ES":app.language="es";break;case"de-DE":app.language="de";break;default:app.language="en"}$.each($("[data-text]"),function(e,t){"undefined"!=typeof lang[app.language][$(this).attr("data-text")]&&$(this).html(lang[app.language][$(this).attr("data-text")])})},text:function(e){return lang[app.language][e]},text_template:function(e,t){var a=_.template(lang[app.language][e]);return a(t)},shuffle:function(e){for(var a,s,t=e.length;0!==t;)s=Math.floor(Math.random()*t),t-=1,a=e[t],e[t]=e[s],e[s]=a;return e},share:function(e){window.plugins.socialsharing.shareWithOptions(e,function(e){console.log("partage effectué avec succes")},function(e){console.log("une erreur est survenue lors du partage")})}};app.initialize();