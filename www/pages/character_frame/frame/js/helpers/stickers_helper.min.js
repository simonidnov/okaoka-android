var stickers_helper={init:function(){},list_stickers:function(e,t){function s(e){window.resolveLocalFileSystemURL(e,function(e){var s=e.createReader();s.readEntries(function(e){console.log(e),t(e)},function(e){console.log(e)})},function(e){console.log(e)})}s(cordova.file.dataDirectory+e)},file_exist:function(e,t){e=encodeURI(e),stickers_helper.list_stickers("pictures/",function(s){t(_.where(s,{name:e}).length>0?!0:!1)})},save_file:function(e,t,s){console.log("-------------- save_file -----------------");var n=this.b64toBlob(e,"image/gif",1024);console.log("blob ::: ",n);var a=cordova.file.dataDirectory;window.resolveLocalFileSystemURL(a,function(i){console.log("got main fileSystem ",i),i.getDirectory("pictures/",{create:!0},function(i){console.log("got main dir ::: ",i),i.getFile(t+".gif",{create:!0},function(t){console.log("got the file",t),t.createWriter(function(i){i.write(n),s({file_url:t.nativeURL,datas:e}),console.log("ok, in theory i worked")},function(e){console.log("createWriter file error ",e)})},function(e){console.log("get file error : ",e)})},function(e){console.log("getDirectory error ",e)})})},b64toBlob:function(e,t,s){t=t||"",s=s||512,e=e.replace("data:image/gif;base64,","");for(var i=atob(e),n=[],a=0;a<i.length;a+=s){for(var r=i.slice(a,a+s),o=new Array(r.length),h=0;h<r.length;h++)o[h]=r.charCodeAt(h);var A=new Uint8Array(o);n.push(A)}var g=new Blob(n,{type:t});return g}};