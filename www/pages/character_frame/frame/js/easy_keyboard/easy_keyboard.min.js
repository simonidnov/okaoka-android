function easy_keyboard(e,t,s,i,n,a){this._type=e,this._position=s,this._max_char=a,this._callBack=n,this._target=t,this._input=i,this.starttime=(new Date).getTime(),this.init()}easy_keyboard.prototype.init=function(){var e=this,t="ABCDEFGHIJKLMNOPQRSTUVWXYZ-",s=[["A","À","Â"],"B",["C","Ç"],"D",["E","É","È","Ê","Ë"],"F","G","H",["I","Î","Ï"],"J","K","L","M","N",["O","Ô","Ö"],"P","Q","R","S","T",["U","Û","Ü"],"V","W","X","Y","Z","-"],i="1234567890",n=t.split(""),a=window.innerWidth;a>768&&(a=768),this.w=Math.round(a/10)-8,this.w=this.w,this.w>70?this.w=70:this.w<40&&(this.w=40);var r=Math.floor(a/(this.w+8));switch(console.log("this.w ",this.w),this.line=1,this._type){case"text":this.line=Math.ceil((s.length+2)/r),n=s;break;case"number":this.line=Math.ceil((i.length+2)/r),n=i.split("")}var o="green";this._target.append('<div class="easy_keyboard '+this._position+'"><div class="content_center"></div></div>');for(var h=0;h<n.length;h++){switch(h){case 4:o="purple";break;case 8:o="pink";break;case 12:o="dgreen";break;case 16:o="yellow";break;case 20:o="orange";break;case 23:o="blue";break;case 26:o="black"}"string"==typeof n[h]?this._target.find(".easy_keyboard .content_center").append('<div class="touche '+o+'" data-val="'+n[h]+'">'+n[h]+"</div>"):this._target.find(".easy_keyboard .content_center").append('<div class="touche '+o+'" data-id="'+h+'" data-sub="true" data-val="'+n[h][0]+'">'+n[h][0]+"</div>")}$(".easy_keyboard").css("height",(this.w+8)*this.line+"px"),$(".easy_keyboard .content_center").css("width",(this.w+8)*r+"px"),this._target.find(".easy_keyboard .content_center").append('<div class="touche black" data-val="validate" style="float:right;"><img src="images/assets/nav/nav_buttons_valid_white.svg"/></div>'),this._target.find(".easy_keyboard .content_center").append('<div class="touche black" data-val="suppr" style="float:right;"><img src="images/assets/nav/nav_buttons_prev_white.svg"/></div>'),"ontouchstart"in window?(this._target.find(".easy_keyboard .content_center .touche").off("touchstart").on("touchstart",function(t){e.starttime=(new Date).getTime()}),this._target.find(".easy_keyboard .content_center .touche").off("touchend").on("touchend",function(t){return"undefined"!=typeof $(this).attr("data-sub")&&(new Date).getTime()>e.starttime+500?(e.openSubCharacters($(this),n[parseInt($(this).attr("data-id"))]),!1):($(".easy_keyboard .subtouches .touche").off("click"),$(".sub_container").remove(),e._callBack($(this).attr("data-val")),_UI.displayTouch($(this)),"validate"===$(this).attr("data-val")?(e.close(),!1):"suppr"===$(this).attr("data-val")?(e._target.find(".easy_text").html(e._target.find(".easy_text").html().substring(0,e._target.find(".easy_text").html().length-1)),!1):e._target.find(".easy_text").html().length>=e._max_char?!1:(e._target.find(".easy_text").append($(this).attr("data-val")),!0))})):this._target.find(".easy_keyboard .content_center .touche").off("click").on("click",function(t){return $(".easy_keyboard .subtouches .touche").off("click"),$(".sub_container").remove(),e._callBack($(this).attr("data-val")),_UI.displayTouch($(this)),"validate"===$(this).attr("data-val")?(e.close(),!1):"suppr"===$(this).attr("data-val")?(e._target.find(".easy_text").html(e._target.find(".easy_text").html().substring(0,e._target.find(".easy_text").html().length-1)),!1):e._target.find(".easy_text").html().length>=e._max_char?!1:(e._target.find(".easy_text").append($(this).attr("data-val")),!0)}),$(document).on("keyup",$.proxy(this.keyboard,this)),$(".touche").css({width:this.w+"px",height:this.w+"px","font-size":this.w-5+"px","line-height":this.w+"px"}),this.open()},easy_keyboard.prototype.openSubCharacters=function(e,t){console.log("target.position() ==== ",e.position());var s=this;this._target.find(".easy_keyboard").append('<div class="sub_container"><div class="subtouches '+e.attr("class")+'"></div></div>');for(var i=0;i<t.length;i++)$(".subtouches").append('<div class="subtouche '+e.attr("class")+'" data-val="'+t[i]+'">'+t[i]+"</div>");$(".subtouche").off("click").on("click",function(){$(".easy_keyboard .subtouches .touche").off("click"),$(".sub_container").remove()}),e.position().left<this._target.width()/2?$(".subtouches").css({width:50*t.length+"px",top:e.position().top-50+"px",left:e.position().left+"px"}):$(".subtouches").css({width:50*t.length+"px",top:e.position().top-50+"px",left:e.position().left+60-50*t.length+"px"}),$(".easy_keyboard .subtouches .touche").off("click").on("click",function(e){return s._callBack($(this).attr("data-val")),_UI.displayTouch($(this)),s._target.find(".easy_text").html().length>=s._max_char?!1:(s._target.find(".easy_text").append($(this).attr("data-val")),$(".easy_keyboard .subtouches .touche").off("click"),$(".sub_container").remove(),!0)})},easy_keyboard.prototype.keyboard=function(e){var t=this,s=[];switch(t._type){case"text":s="ABCDEFGHIJKLMNOPQRSTUVWXYZ-";break;case"number":s="1234567890#"}return"Backspace"===e.key?(t.update_text("suppr"),!1):"Enter"===e.key?(t.update_text("validate"),!1):void(-1!==s.indexOf(e.key.toUpperCase())&&t.update_text(e.key.toUpperCase()))},easy_keyboard.prototype.update_text=function(e){var t=this;return t._callBack(e),"validate"===e?(t.close(),!1):"suppr"===e?(t._target.find(".easy_text").html(t._target.find(".easy_text").html().substring(0,t._target.find(".easy_text").html().length-1)),!1):t._target.find(".easy_text").html().length>=t._max_char?!1:(t._target.find(".easy_text").append(e),!0)},easy_keyboard.prototype.open=function(){TweenMax.to(this._target.find(".easy_keyboard"),.5,{css:{height:(this.w+8)*this.line+"px"}})},easy_keyboard.prototype.close=function(){TweenMax.to(this._target.find(".easy_keyboard"),.5,{css:{height:"0px"}})},easy_keyboard.prototype.destroy=function(){$(document).off("keyup",$.proxy(this.keyboard,this)),this._target.find(".easy_keyboard .content_center .touche").off("touchend").off("click"),TweenMax.to(this._target.find(".easy_keyboard"),.5,{css:{height:"0px"}})};