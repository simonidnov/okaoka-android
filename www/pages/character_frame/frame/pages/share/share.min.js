function share_page(){this._preview=null,this.swiper=null,this.scroll=null,this._datas=null,console.log("create new page script : ",app.page_properties)}share_page.prototype.init=function(){var e=this;console.log("init new page script delayed : ",app.page_properties.delayed),"undefined"==typeof app._page_request.id&&alert("on ne sais pas partager du vent"),$(".share .img_preview").css("height",window.innerHeight-($("#barcode").height()+$("#button_hp").height())+"px"),ajax_request.get("/nse/character",{id:app._page_request.id},function(t){console.log(t),e._datas=t.result[0],e.display_character(e._datas)},function(e){alert("erreur lors de la recherche"),console.log(e)})},share_page.prototype.display_character=function(){console.log("this._datas ::: ",this._datas),this.base64=window.localStorage.getItem("last_character_pix"),$(".img_preview").css("background-image","url("+encodeURI(app.pix_to_uri(this._datas.base64,"thumb"))+")");var e=this;$("#share_button").off("click").on("click",function(){if("undefined"==typeof cordova)return window.open("http://www.facebook.com/sharer.php?u="+encodeURI(app.pix_to_uri(e._datas.base64,"thumb"))+"&t=Mon avatar IdKids","sharer","toolbar=0,status=0,width=626,height=436"),!1;var t={message:"Hey, j'ai trouvé cette application c'est très drôle, essayez !",subject:"Regardez mon avatar idkids !",files:[encodeURI(app.pix_to_uri(e._datas.base64))],url:"https://idkids.landscape-viewer.com/#page/character/id/"+app._page_request.id,chooserTitle:"IdKIds FabLab NSE 2016"},s=function(e){console.log("Share completed? "+e.completed),console.log("Shared to app: "+e.app)},i=function(e){console.log("Sharing failed with message: "+e)};window.plugins.socialsharing.shareWithOptions(t,s,i)}),app.encode_uri_to_barcode("https://idkids.landscape-viewer.com/#page/character/id/"+app._page_request.id,function(e){$("#qrcode").attr("src",e.uri)}),this.scroll=new IScroll("#share_scroll_wrapper",{disableMouse:!1,probeType:1,scrollbars:!1,interactiveScrollbars:!1,fadeScrollbars:!1,mouseWheel:!0,click:!0,tap:!0,keyBindings:!0,deceleration:.002}),window.localStorage.setItem("last_character_svg",""),window.localStorage.setItem("last_character_pix",""),window.localStorage.setItem("last_character",""),$(".share .img_preview").css("height",window.innerHeight-($("#barcode").height()+$("#button_hp").height())+"px")},share_page.prototype.play=function(){},share_page.prototype.pause=function(){},share_page.prototype.update=function(){},share_page.prototype.refresh=function(e){},share_page.prototype.destroy=function(e){e()};