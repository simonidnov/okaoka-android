var audio_manager={default_sounds:[{label:"hit",file:"./sounds/hit.ogg"},{label:"popup_open",file:"./sounds/popup_open.ogg"},{label:"popup_close",file:"./sounds/popup_close.ogg"}],sounds:[],ambiance_sounds:[],init:function(){createjs.Sound.registerPlugins([createjs.WebAudioPlugin]),createjs.Sound.alternateExtensions=["mp3"],$.each(audio_manager.default_sounds,function(e,t){audio_manager.load_sound(t.file,t.label)})},load_sound:function(e,t,o){var o=o;createjs.Sound.on("fileload",createjs.proxy(function(e){createjs.Sound.setDefaultPlayProps(t,{pan:1e-4}),"undefined"!=typeof o&&o()},this)),createjs.Sound.registerSound(e,t)},destroy_all_sounds:function(){$.each(audio_manager.sounds,function(e,t){t.stop(),delete t}),$.each(audio_manager.ambiance_sounds,function(e,t){t.stop(),delete t}),audio_manager.ambiance_sounds=[],audio_manager.sounds=[],$.each(audio_manager.default_sounds,function(e,t){audio_manager.load_sound(t.file,t.label)})},play_ambiance:function(e,t,o,i){return!1},destroy_ambiance:function(e,t){TweenMax.to(e,2,{volume:0,onComplete:function(){e.stop(),delete e,t()}})},play_sound:function(e,t,o,i){if("undefined"==typeof navigation.page_properties||null===navigation.page_properties)return!1;if("undefined"!=typeof navigation.settings.audio.pages[navigation.page_properties.label]&&!navigation.settings.audio.pages[navigation.page_properties.label])return!1;if("on"!==navigation.settings.audio.effects.state)return!1;if("undefined"==typeof i)var i=this.sounds.length;this.sounds[i]=createjs.Sound.play(e),-1===t?"undefined"!=typeof this.sounds[i]&&this.sounds[i].on("complete",createjs.proxy(function(){audio_manager.stop_sound(e),audio_manager.play_sound(e,t,o,i)},this)):t>0?"undefined"!=typeof this.sounds[i]&&this.sounds[i].on("complete",createjs.proxy(function(){t--,audio_manager.stop_sound(e),audio_manager.play_sound(e,t,o,i)},this)):0===t&&"undefined"!=typeof this.sounds[i]&&this.sounds[i].on("complete",createjs.proxy(function(){"undefined"!=typeof audio_manager.sounds[i]&&setTimeout(function(){"undefined"!=typeof audio_manager.sounds[i]&&audio_manager.sounds[i].stop()},300)},this)),this.sounds[i].volume=navigation.settings.audio.effects.volume/100,o(this.sounds[i],t)},stop_sound:function(e){createjs.Sound.stop(e)},stop_all_sound:function(){}};